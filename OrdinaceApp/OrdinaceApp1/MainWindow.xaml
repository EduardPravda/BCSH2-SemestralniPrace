<Window x:Class="OrdinaceApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="IS Nemocnice - Centrální Systém" Height="720" Width="1080" 
        WindowStartupLocation="CenterScreen"
        Background="#F4F7F9">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Menu Grid.Row="0" FontSize="14" Padding="10,8" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <MenuItem Header="📁 Aplikace">
                <MenuItem Header="Odhlásit se" Click="MenuOdhlasit_Click"/>
                <Separator/>
                <MenuItem Header="Ukončit" Click="MenuUkoncit_Click"/>
            </MenuItem>

            <MenuItem Header="🧑‍⚕️ Pacienti" x:Name="MenuPacienti">
                <MenuItem Header="Seznam pacientů" x:Name="MenuPacientiSeznam" Click="MenuPacientiSeznam_Click"/>

                <MenuItem Header="Přidat nového pacienta" x:Name="MenuPacientNovy" Click="MenuPacientNovy_Click" FontWeight="Bold"/>
                <MenuItem Header="Upravit vybraného pacienta" x:Name="MenuPacientUpravit" Click="MenuPacientUpravit_Click"/>
                <Separator/>
                <MenuItem Header="Rezervace (Objednání)" Click="MenuRezervace_Click"/>
                <MenuItem Header="Doporučení / Žádanky" x:Name="MenuDoporuceni" Click="MenuDoporuceni_Click"/>
                <MenuItem Header="Pracovní neschopnosti" x:Name="MenuNeschopnost" Click="MenuNeschopnost_Click"/>
                <MenuItem Header="Anamnéza (Historie nemocí)" x:Name="MenuAnamneza" Click="MenuAnamneza_Click"/>
                <Separator/>
                <MenuItem Header="Evidence alergií" x:Name="MenuAlergie" Click="MenuAlergie_Click"/>
                <Separator/>
                <MenuItem Header="Kniha vyšetření" x:Name="MenuVysetreni" Click="MenuVysetreni_Click"/>
                <MenuItem Header="Lékařské předpisy (Recepty)" x:Name="MenuPredpisy" Click="MenuPredpisy_Click"/>
                <Separator/>
                <MenuItem Header="Správa souborů / Dokumenty" Click="MenuSoubory_Click"/>
            </MenuItem>

            <MenuItem Name="MenuAdmin" Header="⚙️ Administrace">
                <MenuItem Header="Seznam rolí (Číselník)" Click="MenuRole_Click"/>
                <MenuItem Header="Log historie (Audit)" Click="MenuLog_Click"/>
                <MenuItem Header="Systémový katalog (DB Objekty)" Click="MenuSystem_Click"/>
                <MenuItem Header="Správa uživatelů" Click="MenuSpravaUzivatelu_Click"/>
                <Separator/>
                <MenuItem Header="Správa lékařů (CRUD)" Click="MenuSpravaLekaru_Click"/>
                <Separator/>
                <MenuItem Header="Správa léků (Katalog CRUD)" Click="MenuLeky_Click"/>
                <Separator/>
                <MenuItem Header="Číselník nemocí (Diagnózy)" Click="MenuNemoci_Click"/>
                <Separator/>
                <MenuItem Header="Ordinační hodiny" Click="MenuOrdinace_Click"/>

                <MenuItem Header="ℹ️ Info" x:Name="MenuInfo">
                    <MenuItem Header="Ordinační hodiny" Click="MenuOrdinace_Click"/>
                    <MenuItem Header="Kontakt" Click="MenuKontakt_Click"/>
                    
                </MenuItem>
            </MenuItem>
        </Menu>

        <Border Grid.Row="1" Background="{StaticResource MedicalBlue}" Padding="25,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="🏥" FontSize="32" Margin="0,0,15,0" VerticalAlignment="Center">
                        <TextBlock.Effect>
                            <DropShadowEffect ShadowDepth="2" BlurRadius="2" Opacity="0.3"/>
                        </TextBlock.Effect>
                    </TextBlock>

                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="ORDINAČNÍ INFORMAČNÍ SYSTÉM" FontSize="22" FontWeight="Bold" Foreground="White"/>
                        <TextBlock Text="Ordinace praktického lékaře | TrueeCare" FontSize="14" Foreground="#E6F2FF" Margin="0,2,0,0"/>
                    </StackPanel>
                </StackPanel>

                <Image Grid.Column="1" 
                       Source="/Images/logo.png" 
                       Height="55" 
                       RenderOptions.BitmapScalingMode="HighQuality"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Right"
                       Margin="20,0,0,0"/>
            </Grid>
        </Border>

        <Border Grid.Row="2" Margin="20" Background="White" CornerRadius="8" BorderBrush="#E0E0E0" BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="3" Opacity="0.05" BlurRadius="10"/>
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" Text="Aktuální přehled" FontSize="18" FontWeight="SemiBold" Margin="20,20,0,5" Foreground="{StaticResource TextDark}"/>

                <DataGrid Name="MainDataGrid" Grid.Row="1" Margin="20,10,20,20" 
                          AutoGenerateColumns="False" IsReadOnly="True" 
                          BorderThickness="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Příjmení" Binding="{Binding Prijmeni}" Width="120" FontWeight="Bold"/>
                        <DataGridTextColumn Header="Jméno" Binding="{Binding Jmeno}" Width="120"/>
                        <DataGridTextColumn Header="Věk (SQL Funkce)" Binding="{Binding Vek}" Width="100"/>
                        <DataGridTextColumn Header="Stav (SQL Funkce)" Binding="{Binding StavNeschopenky}" Width="150" Foreground="Red"/>
                        <DataGridTextColumn Header="Telefon" Binding="{Binding Telefon}" Width="120"/>
                        <DataGridTextColumn Header="Město" Binding="{Binding Mesto}" Width="*"/>
                    </DataGrid.Columns>
                </DataGrid>
                
            </Grid>
        </Border>

        <StatusBar Grid.Row="3" Background="White" Padding="10,5" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0">
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="🟢" FontSize="10" Margin="0,2,8,0" VerticalAlignment="Center"/>
                    <TextBlock Name="TxtStatus" Text="Systém připraven k práci." FontWeight="Medium" Foreground="{StaticResource TextDark}"/>
                </StackPanel>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock Text="Verze 1.0 (Final) | © 2025 Semestrální práce" Foreground="Gray" FontSize="11"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>